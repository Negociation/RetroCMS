#//////////////////////////////////////////////////////////////
#//						  RetroCMS							//
#//<<<<<<<<<<<<<< The Oldschool Era is Back >>>>>>>>>>>>>>>>>//
#//----------------------------------------------------------//
#// Developed by: Marcos [ aka: m.tiago ]					//
#// Development Thread: goo.gl/nwzdZo						//
#//////////////////////////////////////////////////////////////
#// Beta Version 0.9.5.110 ( Aquamarine ) 				    //
#// Branch: Public (Unstable)								//
#// Compatibility Version(s): [r14,r15,r16,r17]				//
#//////////////////////////////////////////////////////////////





#Redirects
<IfModule mod_rewrite.c>
	RewriteEngine On
	RedirectMatch 301 ^/install/start /install/step/0 
	RedirectMatch 301 ^/login /account/login
	RedirectMatch 301 ^/logout /account/disconnected
	RedirectMatch 301 ^/register/$ /register/start
	RedirectMatch 301 ^/tab/credits /credits 
	RedirectMatch 301 ^/tab/redeem /credits 
	RedirectMatch 301 ^/tab/habboclub /club
</IfModule>

#Rewrite for Web
<IfModule mod_rewrite.c>
	RewriteEngine On
	Options -Indexes
	RewriteRule ^c_images/(.*)$ /web/c_images/$1 [NC,L]
	RewriteRule ^habboweb/(.*)$ /web/habboweb/$1 [NC,L]
</IfModule>

#Deny Access to certain file extensions
<filesMatch "\.(htaccess|htpasswd|ini|phps|fla|psd|log|sh|view|txt|json)$">
	Order Allow,Deny
	Deny from all
</filesMatch>



#Rewrite Rules
<IfModule mod_rewrite.c>
	RewriteEngine On
	Options -Indexes
	Header set Access-Control-Allow-Origin "*"
	Header set Access-Control-Allow-Headers "origin, x-requested-with, content-type"
	Header set Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
	RewriteCond %{REQUEST_URI} !\.(?:css|js|jpeg|gif|png|dcr|cct|xml|swf|ico|xml)$ [NC]
	RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule>

#CORS
<IfModule mod_headers.c>
    <FilesMatch "\.(ttf|ttc|otf|eot|woff|font.css|css|js|gif|png|jpeg|svg|svgz|webp|dcr|cct)$">
        Header set Access-Control-Allow-Origin "*"
		Header set Access-Control-Allow-Headers "origin, x-requested-with, content-type"
		Header set Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
    </FilesMatch>
</IfModule>



